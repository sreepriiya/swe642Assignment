<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- css stylesheets  -->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open Sans">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="surveystyle.css">
    
    <title>CS Survey Form</title>

<!-- Javascript Code     -->
    <script type="text/javascript">
      // Greetings Javascript code 
      var now=new Date();
      var hour=now.getHours();
      var name;
      var greeting;

      if(hour<12)
          greeting= "Good Morning ";
      else
      {
          hour=hour-12;

          if(hour<6)
              greeting= "Good Afternoon ";
          else
              greeting= "Good Evening ";
      }
        // Name 
          name=window.prompt("Please enter your name","Priya");
          document.cookie="name="+ escape(name);
 
 if(document.cookie)
      {
          var myCookie=unescape(document.cookie);
          var cookieTokens=myCookie.split("=");
          name=cookieTokens[1].split(";")[0];
      }
 
// Wrong person function 
      function wrongPerson(){
          document.cookie="name=null;"+"expires=Thu, 01-Jan-95 00:00:01 GMT";
          location.reload();
      }

      // Calculating average and maximum of given 10 numbers 
      function calculateAverageAndMaximum() {
          var dataInput = document.getElementById("data");
          var averageOutput = document.getElementById("average");
          var maximumOutput = document.getElementById("maximum");
          var numbers = dataInput.value.split(",").map(Number);
          if (numbers.length === 10) {
              if (numbers.every(number => number >= 1 && number <= 100)) {
              var sum = numbers.reduce((a, b) => a + b);
              var average = sum / numbers.length;
              var maximum = Math.max(...numbers);

              averageOutput.value = average.toFixed(2);
              maximumOutput.value = maximum;
              return;
              }
          }

          averageOutput.value = "";
          maximumOutput.value = "";
          // Alert if numbers are more or less than 10 numbers 
          alert("Please enter exactly 10 comma-separated numbers between 1 and 100.");
      }
// Validating form 
      function validateForm() {
var nameInput = document.getElementById("username");
var addressInput = document.getElementById("address1");
var addressTwoInput = document.getElementById("address2");
var emailInput = document.getElementById("mail");
var checkboxes = document.querySelectorAll('input[type="checkbox"]');
var radios = document.querySelectorAll('input[type="radio"]');

var errorMessages = [];

// For Name only alphabets allowed
if (!/^[A-Za-z]+$/.test(nameInput.value)) {
  errorMessages.push("Name should contain only alphabets.");
  nameInput.value = "";
}

// For Address Line 1 only alphanumeric and space characters allowed
if (!/^[A-Za-z0-9\s]+$/.test(addressInput.value)) {
  errorMessages.push("Address Line 1 should contain only alphanumeric and space characters.");
  addressInput.value = "";
}

// For Address Line 2 only alphanumeric and space or empty space characters allowed 
// since it is Optional field 
if (!/^[a-zA-Z0-9\s]*$/.test(addressTwoInput.value)) {
  errorMessages.push("Address Line 2 should contain only alphanumeric, space characters or empty.");
  addressTwoInput.value = "";
}

// At least two checkboxes should be checked for checkbox
var checkedCheckboxes = Array.from(checkboxes).filter(checkbox => checkbox.checked);
if (checkedCheckboxes.length < 2) {
  errorMessages.push("Please check at least two checkboxes.");
}

// At least one option should be selected for radio button
var checkedRadios = Array.from(radios).filter(radio => radio.checked);
if (checkedRadios.length === 0) {
  errorMessages.push("Please select a radio button option.");
}

// If Email address format is invalid
if (!/^[\w.-]+@[\w.-]+\.[A-Za-z]{2,}$/.test(emailInput.value)) {
  errorMessages.push("Email address format is invalid.");
  emailInput.value = "";
}

// Submitting the form
if (errorMessages.length > 0) {
  // It will display the stack of error messages 
  alert(errorMessages.join("\n"));
  return false; 
}
return true;
}

</script>

<!-- Javascript file for Zipcodes  -->
<script src="script.js"></script>

</head>
<body>
     <!-- Navbar Header  -->
     <nav class="navbar navbar-expand-sm navbar-light text-light" style="background-color:#006633; position: sticky; top: 0px;">
      <a class="navbar-brand text-light" href="https://www.gmu.edu/">George Mason University</a>
      <button class="navbar-toggler" data-toggle="collapse" data-target="#expandme">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="expandme">
        <div class="navbar-nav">
          <a class="nav-item nav-link text-light" href="index.html">Home</a>
            <a class="nav-item nav-link text-light" href="https://cs.gmu.edu/">CS Department</a>
            <a class="nav-item nav-link text-light" href="https://volgenau.gmu.edu/">Volgenau School of Engineering</a>
            <div class="dropdown">
            <a class="nav-link dropdown-toggle text-light" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown">
              Assignments
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <a class="dropdown-item text-light" href="assignment.html" style="background-color:#006633; ">Assignment 1</a>
              <a class="dropdown-item text-light" href="survey.html" style="background-color:#006633; ">Assignment 2</a>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Header -->
  <p></p>
  <div class="mainbox">
  <h1>
    <img src="cslogo.jpg" alt="CS Department Logo">
</h1>
<h2>SWE 642 Student Survey Form</h2>
<!-- Last Name: NALLA -->
<h5 style="color: #006633; text-align: right;">Last Name: Nalla</h5>

<!-- Greeting according to the Time and Given Name  -->
<h4>
  <script type="text/javascript">
  document.write(greeting);
  document.write(name);
  </script>, Welcome to SWE642 Survey!</h4>
  <p>  <a href = 'javascript:wrongPerson()'>Click here if you are not 
    <script type="text/javascript">
      document.write(name);
      </script>
  </a></p>

<!-- form  -->
<h6>Enter you details below:</h6>
<p style="padding-left: 20px;
color: #006633;
margin-right: 1%;"><sup style="color: red;">&nbsp; *&nbsp; </sup>indicates mandatory field</p>
  <form action="surveyresult.html" autocomplete="on" class="form-submit" method="get" onsubmit="return validateForm()">
  <div class="form-table">
    <table>
      <tr>
        <td><label for="username">Username<sup style="color: red;">*</sup> :</label></td>
        <td></td>
        <!-- using autofocus for username  -->
        <td><input autofocus type="text" id="username" class="form-input" placeholder="Username" required></td>
      </tr>
      <tr>
        <td><label for="address1">Address Line1<sup style="color: red;">*</sup> :</label></td>
        <td></td>
        <td><input type="text" id="address1" class="form-input" placeholder="Address Line 1" required></td>
      </tr>
      <tr>
        <td><label for="address2">Address Line2:</label></td>
        <td></td>
        <td><input type="text" id="address2" class="form-input" placeholder="Address Line 2"></td>
      </tr>
      <tr>
        <td><label for="apt">Apt Suite<sup style="color: red;">*</sup> :</label></td>
        <td></td>
        <td><input type="text" id="apt" class="form-input" placeholder="Apt Suite" required></td>
      </tr>

      <tr>
        <td><label for="zipCode">Zip Code<sup style="color: red;">*</sup> :</label></td>
        <td></td>
        <td><input type="text" id="zipCode" name="zipCode" class="form-input" placeholder="Zip Code" onblur="validateZip(this.value)" required>  </td>
      </tr>
      <!-- Here City and State Input fields are removed and added Span Fields instead  -->
      <tr>
        <td><label for="city">City :</label></td>
        <td></td>
        <td>
          <!-- <input type="text" id="city" class="form-input" placeholder="City" required> -->
          <span id="city"></span>
        </td>
      </tr>
      <tr>
        <td><label for="state">State :</label></td>
        <td></td>
        <td>
          <!-- <input type="text" id="state" class="form-input" placeholder="State" required> -->
          <span id="state"></span>
        </td>
      </tr>
      <tr>
        <td><label for="telephone">Telephone Number<sup style="color: red;">*</sup> :</label></td>
        <td></td>
        <td><input type="text" id="telephone" class="form-input" placeholder="(xxx) xxx-xxxx" required></td>
      </tr>
      <tr>
        <td><label for="mail">Email<sup style="color: red;">*</sup> :</label></td>
        <td></td>
        <td><input type="email" id="mail" class="form-input" placeholder="example@gmu.edu" required></td>
      </tr>
      <tr>
        <td><label for="urllink">URL:</label></td>
        <td></td>
        <td><input type="url" id="urllink" class="form-input" placeholder="www.example.com"></td>
      </tr>
      <tr>
        <td><label for="date-of-survey">Date Of Survey<sup style="color: red;">*</sup> :</label></td>
        <td></td>
        <td><input type="date" id="date-of-survey" class="form-input" required></td>
      </tr>
      <tr>
        <td><label for="likedcampus">What you liked most about the campus?:</label></td>
        <td>&#160; &#160;&#160; &#160;&#160; &#160;&#160; &#160;&#160; &#160;</td>
        <td><input type="checkbox" id="students" name="likedcampus">
          <label for="students">Students</label>

          <input type="checkbox" id="location" name="likedcampus">
          <label for="location">Location</label>

          <input type="checkbox" id="campus" name="likedcampus">
          <label for="campus">Campus</label>

          <input type="checkbox" id="atmosphere" name="likedcampus">
          <label for="atmosphere">Atmosphere</label>

          <input type="checkbox" id="rooms" name="likedcampus">
          <label for="rooms"> Dorm Rooms</label>

          <input type="checkbox" id="sports" name="likedcampus">
          <label for="sports">Sports</label>
        </td>
      </tr>
      <tr>
        <td align=top><label for="interest">What are you interested in university? :</label></td>
        <td></td>
        <td>
          <input type="radio" id="friends" name="interest" value="friends">
          <label for="friends">Friends</label>

          <input type="radio" id="television" name="interest" value="television">
          <label for="television">Television</label>

          <input type="radio" id="internet" name="interest" value="internet">
          <label for="internet">Internet</label>

          <input type="radio" id="other" name="interest" value="other">
          <label for="other">Other</label>
      
        </td>
      </tr>
      <tr>
        <td><label for="comments">Additional Comments:</label></td>
        <td></td>
        <td><textarea id="comments" class="form-input" placeholder="Type here Additional Comments"></textarea></td>
      </tr>
      <tr>
        <td>
    <label for="graduation">High School Graduation<sup style="color: red;">*</sup> :</label> </td>
    <td></td> <td>
    <input list="month" id="graduation" class="form-grad" name="graduation" placeholder="month" required> 
    <!-- Month using Datalist  -->
    <datalist id="month">
        <option value="January">
        <option value="Febuary">
        <option value="March">
        <option value="April">
        <option value="May">
        <option value="June">
        <option value="July">
        <option value="August">
        <option value="September">
        <option value="October">
        <option value="November">
        <option value="December">
    </datalist>
    <input type="number" id="year" class="form-grad" name="graduation" min="1945" max="9999" placeholder="year" required></td>
  </tr>
  <tr>
    <td><label for="likelihood">How likely would you recommend GMU to other students?<sup style="color: red;">*</sup> :</label>
    </td>
    <td></td>
    <td>
      <select name="recommendGMU" id="likelihood" class="form-drop-down" required>
        <option value="" disabled selected>--Please choose an option--</option>
        <option value="VLikely">Very Likely</option>
        <option value="Likely">Likely</option>
        <option value="Unlikely">Unlikely</option>
    </select>
    </td>
  </tr>

  <!-- Data field to calculate Average and Maximum of given 10 values  -->
  <tr>
  <td><label for="data">Data :</label></td>
  <td></td>
  <td><input type="text" id="data" class="form-input" name="data" placeholder="Enter 10 comma-separated numbers between 1 and 100" onblur="calculateAverageAndMaximum()"></td>
  </tr>
  <tr>
    <td><label for="average">Average:</label></td>
    <td></td>
    <!-- prints average value  -->
    <td><output id="average"></output></td>
</tr>
<tr>
  <td><label for="maximum">Maximum:</label></td>
  <td></td>
  <!-- prints maximum of 10 values  -->
  <td><output id="maximum"></output></td>
</tr>
</table>

  <!-- submit button  -->
  <div class="form-submit">
    <input type="submit"  value="Submit" class="submit-button">
    <!-- reset button  -->
    <input type="reset" value="Reset" class="reset-button">    
  </div>
  </div>
</form>
<!-- back to top button  -->
<a href="#" class="w3-button w3-black w3-padding-large w3-margin-bottom" style="border-radius: 25px; color:  rgb(247, 243, 243);"><i class="fa fa-arrow-up"></i></a>
</div>

<!-- bootstrap javascript  -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

</body>
</html>